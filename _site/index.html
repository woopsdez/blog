<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />

		<title>Miki Ishijima Blog</title>
	  <meta name="description" content="趣味のゲームやプログラミング、レビューなど個人イシジマミキにより近しい内容を書いています。普遍的なデザインの話はThe Marsknowledge Blogで。"/>

		<meta name="HandheldFriendly" content="True" />
		<meta name="MobileOptimized" content="320" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- facebook -->
		<meta property="og:title" content="" />
    <meta property="og:type" content="blog" />
    <meta property="og:url" content=" /" />
    <meta property="og:image" content=" " />
		<meta property="og:description" content="趣味のゲームやプログラミング、レビューなど個人イシジマミキにより近しい内容を書いています。普遍的なデザインの話はThe Marsknowledge Blogで。">

		<!-- twitter -->
	  <meta name="twitter:card" content="summary_large_image">
	  <meta name="twitter:creator" content="@woopsdez">
	  <meta name="twitter:site" content="@woopsdez">
	  <meta name="twitter:title" content="">
	  <meta name="twitter:description" content="趣味のゲームやプログラミング、レビューなど個人イシジマミキにより近しい内容を書いています。普遍的なデザインの話はThe Marsknowledge Blogで。">
	  <meta name="twitter:image" content=" ">

		<link rel="alternate" type="application/rss+xml" href=" /feed.xml">
		<link rel="prefetch" href=" ">
		<link rel="canonical" href=" /">

		<link rel="stylesheet" href=" /assets/css/screen.css">
		<link href='//fonts.googleapis.com/css?family=Domine:700|Open+Sans:400,600|Source+Code+Pro:500' rel='stylesheet' type='text/css'>
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

		<!-- favicon -->
  <link rel="apple-touch-icon" sizes="57x57" href=" /assets/img/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href=" /assets/img/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href=" /assets/img/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href=" /assets/img/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href=" /assets/img/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href=" /assets/img/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href=" /assets/img/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href=" /assets/img/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href=" /assets/img/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href=" /assets/img/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href=" /assets/img/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href=" /assets/img/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href=" /assets/img/icons/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content=" /assets/img/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
	</head>
	<body>

	<header class="title">
	<a href=" "><img src=" /favicon-transparent.svg" alt=""><span>Miki Ishijima Blog</span></a>
</header>

<nav class="wrapper  ">
	<a href="#" onclick="return false;"><i class="fa fa-navicon fa-lg"></i></a>
	<ul>
		
			<li><a href=" /about/">About Me</a></li>
		
			<li><a href=" /contact/">Contact</a></li>
		
			
		
			
		
			
		
			
		
	</ul>
</nav>

	<div class="profile">
	<img src=" /assets/img/bloglogo.jpg" class="profileimage" alt="user">
	<h4>Miki Ishijima Blog</h4>
	<p>趣味のゲームやプログラミング、レビューなど個人イシジマミキにより近しい内容を書いています。普遍的なデザインの話はThe Marsknowledge Blogで。</p>
	<hr>
</div>

<section class="posts postindex wrapper">

	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					review 
				
			</h2>
			<h1><a href=" /review/2016/08/02/babycareapp-ikulog/">ママデザイナーが育児アプリをレビューしたら、育ログが圧勝だった件</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-08-02">August 2, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>出産当初、Facebookなどでいろんなアプリを教えてもらいましたがけっきょく育ログに落ち着きました。どこが良かったのかを5ヶ月たった今、レビュー。ちゃんと使っているうえでの感想なので参考になると思います。</p>


				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					works 
				
			</h2>
			<h1><a href=" /works/2016/07/26/launch-toi-chromeextention/">Twitterの画像を原寸表示するChrome拡張をリリースしました。</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-07-26">July 26, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>Twitterをブラウザで見ていると、画像が小さく、文字が書いてあると見辛くて仕方がないのでChrome拡張を自作しました。</p>


				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					diary 
				
			</h2>
			<h1><a href=" /diary/2016/07/24/in-marriage-we-fill-those-missing/">結婚で、足りないものを埋めていく</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-07-24">July 24, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>わたしの育った環境は「普通」ではあるのですが、いくつか珍しいところがあります。母親が外国人である。お父さんが4人いたり。</p>


				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					diary 
				
			</h2>
			<h1><a href=" /diary/2016/06/02/lowcarb-matanitylife-01/">妊娠糖尿病と診断されたら</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-06-02">June 2, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>最近話題の糖質制限。妊娠糖尿病と診断されてしまって嫌々始めたのですが慣れてみるとこれが結構いい感じ。同じように診断された方の参考になればと思い書き残しておきます。</p>


				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					diary 
				
			</h2>
			<h1><a href=" /diary/2016/05/06/gavebirth/">産みました</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-05-06">May 6, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>妊娠中から出産が落ちつくまでの「なぜ産もうと思ったのか、産んでどう思ったのか。」とりとめのない文章が、下書きのまま積り積もってしまいました。かいつまんで振り返ってみます。</p>


				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					private-works 
				
			</h2>
			<h1><a href=" /private-works/2016/05/03/the-importance-of-the-private-work/">プライベートワークの重要さ</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-05-03">May 3, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>プライベートワークの良いところは、学習に直結しているところです。しかし、副産物もまたおいしい。勉強しているだけなのに、その分野で注目されて、最先端の情報が集ってくるようになります。</p>

<h2 id="section">学習モチベーションの維持につながる</h2>

<p>仕事ほどではないにしろ、他者の目があることでゆるやかな強制力が働くので、なにかを試す時は必ずコンテンツとして楽しめるようにしています。</p>

<p><a href="http://mikiishijima.com/privateworks/">mikiishijima.com - プライベートワーク </a></p>

<p>リリースまで到達できると、使ってくれるユーザーの反応が見えてきてモチベーションが上がりやすくなるからです。</p>

<p>Twitterでのエゴサーチや、「インストールしたよ。」とのコメントで、下手な運用はできなくなった。と、責任感も少し芽生えます。</p>

<h2 id="section-1">良い情報が集まりはじめる</h2>

<p>開発中に、検索して見つからなかったノウハウは備忘録としてQiitaに投稿しています。他の人がストックしてくれるとやっぱり嬉しいですよね。</p>

<p><img src="/content/images/2016/05/undefinde-variables/qiita-woopsdez.png" alt="http://qiita.com/woopsdez" /></p>

<ul>
  <li><a href="http://qiita.com/woopsdez/items/bc6108460de13d668e78">Chromeエクステンションで、どうしてもJSONPでやりとりしないといけない場合の対処 - Qiita</a></li>
  <li><a href="http://qiita.com/woopsdez/items/cb0e59245d4ee13e8ae5">gulpでのgit操作 commit messageをコマンドライン引数で渡そう - Qiita</a></li>
  <li><a href="http://qiita.com/woopsdez/items/cc2b64800a6de3112920">jekyllで構築したサイト、本番へアップしたらcssが適用されない場合に試しておきたいbaseurlの便利な変更の仕方。 - Qiita</a></li>
</ul>

<p>学習して、それを後の自分のためにオンラインで記録しているだけなのに、自分の事を知る人が増え、良い情報が集ってくる流れが勝手にできていくのです。</p>

<ul>
  <li>学習過程を公開する</li>
  <li>人が集まる</li>
  <li>良い情報が見つかりやすくなる</li>
  <li>学習がさらにしやすくなる</li>
</ul>

<p>良い循環ができていきますね。</p>

<h2 id="section-2">ただ、強制されるものではない</h2>

<p>しかし、自分がそれをしているからといって、部下や生徒がしない事を責めたり、強制したりするのは間違いです。「こんなに楽しいことがあるよ」という提案にとどめておきましょう。</p>

<p>「本当にやる気があるなら、時間を作って何か開発するはずだ」と、いうのは<strong>「相手も自分と同じでなくてはならない」というただの同調圧力です。</strong></p>

<p>わたし達は同じ肌の色、同じ言葉、同じようなものを食べて育っている単一民族国家です。だからこそ、少しの違いが気になってしまうのは仕方のないこと。</p>

<p>ただ、それを意識しておくことで、プライベートワークが本当にプライベートワークとして、開放された自由な開発学習になるはずです。</p>

<p>まわりにプライベートワークを勧めるのであれば、まずは自分がプライベートワークをして、得している様を見せていきましょう。</p>

				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					private-works 
				
			</h2>
			<h1><a href=" /private-works/2016/05/03/myblogpolicy/">個人に紐づいているからこそのブログポリシー</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-05-03">May 3, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>Twitter、Facebook、Qiita、企業ブログ。記事を書く場所がたくさんある中で、自分のブログに記事を書くときのポリシーはありますか？</p>

<p>日常のあれこれはSNS。仕事の話は企業ブログ、子育てブログはTumblr。お気に入りの写真はinstagram。技術記事なら、Qiita。まあ、書く場所には困りません。むしろ、この記事はどこに書くべきかで迷いませんか？</p>

<h2 id="section">10年後の自分がニヤニヤして読むブログ</h2>

<p>このブログの意義は、この1点のみです。人の役に立つようにとか、アフィリエイトがどうとか、そういったことはただのオマケです。</p>

<p>10年書き続けたブログ <a href="http://blog.woopsdez.jp/">ウープスデザインブログ (デザイナーまめこ)</a> を振り替えって読んでみると、楽しめる記事には思い出があります。</p>

<p>反響が大きくてエゴサーチが楽しかったこと、当時仕事で作った作品、出張の思い出。そういったものを次の10年もたくさん残したい。それがこのブログの意義です。</p>

<h2 id="section-1">書かないポリシー</h2>

<ul>
  <li>賞味期限の短いものは(なるべく)書かない</li>
  <li>オチのない話は書かない</li>
  <li>複数のテーマをひとつの記事で書かない</li>
</ul>

<h3 id="section-2">キャンペーンやおしゃれなサイトの紹介はしません</h3>
<p>ブログで収益をあげるためには、検索でひっかかる機会を多く持たなければなりません。そのためには有名企業や話題になったCMなど、すでに多くの人を獲得しているところから流入を期待するのは当然の戦略です。</p>

<p>しかし、自分に関連していないので、振り替えって読んでもおもしろくありませんでした。</p>

<h3 id="section-3">誰でも書ける技術に関する記事は外部で書く</h3>
<p>ブログに書くケースとそうでないケースがあります。<strong>人によって答えが異って良いものはこのブログに書きます。</strong>わたしの個性であり、個人に紐づいているから。</p>

<p>ライブラリを作ってみた感想や、開発したアプリの思い出話、詰まった箇所をどうやって解決したか。などが該当します。</p>

<p>逆に、「git grepの便利な使い方〜」のような記事は、誰が書いても同じです。Qiitaなどの技術ノウハウが集っているところに書きます。検索しても見つからなかった場合に、「自分が困ったのだから、他の人も困ることがあるハズ。」という考えで書いています。</p>

<p>技術系の記事は1年経つだけでも信憑性がガクンと落ちるので、そういった意味でもあまり個人ブログで書く意味はないと思っています。もちろん、技術ブログとして書いていくのならアリですよ。個人ブログの目的が営業であるのなら、それは立派な戦略です。</p>

<h3 id="tueee">オチのない話、「俺tueee」だけの記事は書かない</h3>
<p>下書きのまま、日の目を見ていない記事がいくつかあります。例えばこんな内容。</p>

<blockquote>
  <p>旦那さん家の方々は、旦那さんの話をし、わたしがする最近の旦那さんの話を喜んで聞いてくれる。
こんなに楽しいことがあるだろうか。いわば、義実家は旦那さんファンクラブなのですよ。</p>
</blockquote>

<blockquote>
  <p>旦那さんと義実家に帰ると両親ふたりとも「相変わらずオシャレだな」と褒める。わたしもそう思う。それだけで嬉しい。</p>
</blockquote>

<blockquote>
  <p>さらに旦那さんは姿勢が良く、スタイルも良いので歩き姿がカッコ良い。お義母さんに「ステキですよねー」と言ったら嬉しそうに「そうなのよー。我が息子ながらー」と言ってくれた。やっぱりお義母さんもそう思うんだ! 嬉しかった。</p>
</blockquote>

<p>これは、自分に紐づいているし、わたしが読んでいて楽しいので書いても良いとは思うんですが、ふたつの点から迷っています。</p>

<ul>
  <li>他者が読んでも「良かったね」で終わる</li>
  <li>離婚したあとは完全な黒歴史</li>
</ul>

<p>最近は、<strong>それらも含めてこそ、10年後の自分も、事情を知っているまわりの人も楽しめるのではないかと思いはじめています。</strong> どうでしょうか。</p>

<p>「考え方が変わるかもしれないから、今の考えは書かない。だって変わってたら恥ずかしいもん。」との考えで掲載を躊躇していたけれど、やっぱり読むと楽しい。良い話風にまとめる事ができたら、こういった内容も掲載していこうかな。</p>

<h2 id="section-4">複数のテーマをひとつの記事で書かない</h2>

<ul>
  <li><a href="http://blog.mikiishijima.com/private-works/2016/05/02/undefinde-variables/">Floaty Color Clock開発で得られたこと</a></li>
  <li><a href="http://localhost:3000/private-works/2016/05/03/the-importance-of-the-private-work/">プライベートワークの重要さ</a></li>
</ul>

<p>このふたつの記事は同じテーマから分割されました。複数の話題をひとつの記事で書くと、伝えたいことがブレてしまうからです。</p>

<ul>
  <li><a href="http://blog.mikiishijima.com/become-the-mother01/">母親になります。</a></li>
</ul>

<p>そういった意味ではこの記事は、もっと分割するべきです。最後にある、「<a href="http://blog.mikiishijima.com/become-the-mother01/#section-7">分かりあえない心地良さ</a>」は、ひとつの記事にしても十分でしょう。ただ、こういった人生観に関する内容がタイトルとして並ぶと、どうも自己啓発ブログに見えてきて恥ずかしいので、このままにしておきます。</p>

<h2 id="mikiishijimacomblogmikiishijimacom">mikiishijima.comとblog.mikiishijima.comはどう差別化するのか。</h2>

<p>10年を区切りとして、ブログによるブランディング戦略を変えてみた訳ですが、漠然としてました。この記事を書くまで自分の中でなぜわざわざ個人ブログを作ったのか明確なポリシーがなかったからです。</p>

<p>mikiishijima.comは10年後も変わらない情報をまとめています。家族やペット、好きなゲームの紹介。過去の寄稿した記事。<strong>言わば、これを読めばイシジマミキが分かる。イシジマミキ徹底ガイド</strong>です。</p>

<p>それに対して、blog.mikiishijima.comは人によって異りやすいテーマや、自分のその時々の人生観。そういったものを書く、<strong>10年後の自分が当時に思いを馳せるために作った個人ブログ</strong>となります。</p>

<p>これからも、このブログで答えのないテーマや気付きを書いていきたいと思います。あなたのブログは、どうですか？</p>

				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					private-works 
				
			</h2>
			<h1><a href=" /private-works/2016/05/02/undefinde-variables/">Floaty Color Clock開発で得られたこと</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-05-02">May 2, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>「クリックでふわっと動くアレやコレ」を作ってみたい。そんな思いから着手したFloaty Color Clockですが、ついでで開発しはじめた天気予報機能が難しく思わぬ方向に…。この記事は開発中の思い出話を書いていきます。</p>

<h2 id="undefind">Undefindの嵐</h2>

<p><a href="https://github.com/woopsdez/omikujigohan">7年前のPHPコード</a>、<a href="http://omikujigohan.woopsdez.jp/">おみくじゴハン</a>のリファクタリング、そして<a href="http://woopsdez.github.io/floaty-color-clock/">Floaty Color Clock</a>の開発。</p>

<p>どちらもNotice, undefindの嵐でした。わたしが良く怒られたケースはこちら。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre>	<span class="k">if</span><span class="p">(</span><span class="nx">fuga</span> <span class="o">===</span> <span class="kc">true</span><span class="p">){</span>
		<span class="kd">var</span> <span class="nx">hoge</span> <span class="o">=</span> <span class="nx">fuga</span><span class="p">;</span> <span class="c1">// fugaがtrueじゃないとif文の中を通らない</span>
	<span class="p">}</span>
	<span class="kd">var</span> <span class="nx">hage</span> <span class="o">=</span> <span class="nx">hoge</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">//するとhogeはここで初出になる</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>if文の中で使ったあと、後に続く処理でしれっと変数を呼び出していると怒られるのですね。</p>

<p>じゃあ、ちゃんとif文を経由させたり、if文を経由しなくても値が入ってるようにすれば良いのでは？と、グローバルで変数に初期値を入れておいたり、isset()やundefindチェックをしたりしています。</p>

<p>HTML内で呼び出すこともあるので、長ったらしい文になるのは避けたいところ。</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="c">&lt;!-- これが --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$hoge</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- こうなってしまう --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$hoge</span><span class="p">)){</span><span class="k">echo</span> <span class="nv">$hoge</span><span class="p">}</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h2 id="section">関数内で完結させる</h2>
<p>プログラミングの師匠(<a href="http://blog.tai2.net/">@tai2</a>)に、アドバイスを求めたところ下記の返答をいただきました。</p>

<blockquote>
  <p>「グローバルで変数を定義し、関数内でもやりとりさせてしまっているのをやめ、関数で完結させる。値は引数として受け渡しするといい。」</p>
</blockquote>

<p>なるほどなるほど。</p>

<p>マインクラフト内でのLuaプログラミングでは、それができていたのに今回の開発ではしっちゃかめっちゃかになってしまっていました。</p>

<p>自分のスキルより難しい実装が入ると、コード全体の把握がおろそかになってしまうのがわたしの悪いクセ。</p>

<div class="container">
	<a href="http://www.amazon.co.jp/gp/product/4569792189/ref=as_li_ss_il?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=4569792189&amp;linkCode=as2&amp;tag=fastfargroove-22"><img src="http://ecx.images-amazon.com/images/I/51wBC4deA4L._M500_.jpg" alt="" /></a>
	<div class="reference">
		<strong>右京さんの口癖</strong>
		<p></p>
	</div>
</div>

<h2 id="section-1">ユーザー設定がある場合の初期値のやりくりが苦手</h2>
<p>「二回目に処理するとき、一回目に保存しておいた値があるならそちらを利用する。」というのがうまく書けません。</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="s1">'white'</span><span class="p">;</span> <span class="c1">// 初期値</span>
<span class="k">if</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">setColor</span> <span class="o">!==</span> <span class="nx">undefind</span><span class="p">){</span> <span class="c1">//ユーザーが設定した値があるかどうか</span>
	<span class="nx">color</span> <span class="o">=</span> <span class="nx">user</span><span class="p">.</span><span class="nx">setColor</span><span class="p">;</span> <span class="c1">//あれば、初期値として扱う</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>こんな感じで書けばいいのですよね。いまもですが、分岐の流れ、今はどこの処理に辿りついたかを理解するのに時間がかかります。</p>

<div class="container">
	<a href=""><img src="/content/images/2016/05/undefinde-variables/702167001386764518.gif" alt="" /></a>
	<div class="reference">
		<strong>映画のようにはなかなかいかない</strong>
		<p></p>
	</div>
</div>

<p><img src="" alt="" /></p>

<h2 id="section-2">時刻に合わせて回転する画像</h2>
<p>他の方から見れば簡単なことですが、算数が苦手なわたしは「よくこの実装を思いつけたな」と有頂天になっています。</p>

<p>小学校で習った「割合の公式」の出番です!</p>

<blockquote>

  <ul>
    <li>「割合」＝「比べる値」÷「もとの値」</li>
    <li>「比べる値」＝「もとの値」×「割合」</li>
    <li>「もとの値」＝「比べる値」÷「割合」</li>
  </ul>
</blockquote>

<p>まず、24時間を円とみなして、現在時刻ではどの角度にいるのかを割り出す必要があります。</p>

<p>必要な値として</p>

<ul>
  <li>24時間の秒数(86400s)</li>
  <li>0時から現在時刻までの秒数</li>
  <li>24時間を100%とした時の現在時刻の割合</li>
  <li>円の角度 360°</li>
</ul>

<p>が分かればあとは</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="kd">var</span> <span class="nx">per</span> <span class="o">=</span> <span class="nx">_nowsec</span> <span class="o">/</span> <span class="mi">86400</span> <span class="c1">//割合を求める</span>
<span class="kd">var</span> <span class="nx">nowdeg</span> <span class="o">=</span> <span class="nx">_per</span> <span class="o">*</span> <span class="mi">360</span> <span class="c1">// 360°中 per%は何°になるかが分かる</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>という式で求められるのですね。</p>

<p>あとはこの値を、jQueryにてcssのプロパティにセットしていけばOKです。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'.bg image'</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'transform'</span><span class="p">,</span><span class="s1">'rotate('</span><span class="o">+</span> <span class="nx">nowdeg</span> <span class="o">+</span><span class="s1">'deg)'</span><span class="p">)</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>上記がhtml内で毎秒実行される訳です。</p>

<p>cssの値を変更するのだから、cssファイルの書き換えを行うのでは？それにはどうしたら？と疑問に思ってましたが、jsでhtml内にインラインで書いちゃえばいいのですよね。</p>

<p>すでに知っている知識でも、いっぱいいっぱいになるとこぼれ落ちちゃう。</p>

<h2 id="qiita">Qiitaに投稿しています。</h2>

<p><img src="/content/images/2016/05/undefinde-variables/qiita-woopsdez.png" alt="http://qiita.com/woopsdez" /></p>

<ul>
  <li><a href="http://qiita.com/woopsdez/items/bc6108460de13d668e78">Chromeエクステンションで、どうしてもJSONPでやりとりしないといけない場合の対処 - Qiita</a></li>
  <li><a href="http://qiita.com/woopsdez/items/cb0e59245d4ee13e8ae5">gulpでのgit操作 commit messageをコマンドライン引数で渡そう - Qiita</a></li>
  <li><a href="http://qiita.com/woopsdez/items/cc2b64800a6de3112920">jekyllで構築したサイト、本番へアップしたらcssが適用されない場合に試しておきたいbaseurlの便利な変更の仕方。 - Qiita</a></li>
</ul>

<p>ぜひチェックしてくださいな。</p>

				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					private-works 
				
			</h2>
			<h1><a href=" /private-works/2016/05/01/floatycolorclock/">Floaty Color Clockをリリースしました。</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-05-01">May 1, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>2年前、プログラミングの勉強のために開発しはじめたものです。見てくれはなんとか公開できるレベルになりました。いやあ、長かった。</p>

<p><a href="http://woopsdez.github.io/floaty-color-clock/">Floaty color clock</a>
<img src="/content/images/2016/05/floaty-color-clock/fcc-screenshot.png" alt="" /></p>

<h2 id="section">インストール</h2>
<p>お使いのブラウザで表示するだけです。ブラウザのスタートページに設定しておくと、ちょっと幸せになれるかも。</p>

<h2 id="chrome-">Chrome エクステンション</h2>
<p>Chromeをお使いの方は、こちらからでもインストールできます。
<a href="https://chrome.google.com/webstore/detail/floaty-color-clock/cdcefhaockeolpljckbhklnppdppceoi">Floaty Color Clock - Chrome ウェブストア</a>
<img src="/content/images/2016/05/floaty-color-clock/fcc-chrome-store.png" alt="" /></p>

<h2 id="section-1">機能一覧</h2>
<ul>
  <li>時計</li>
  <li>指定した地域の降水確率</li>
  <li>文字色変更</li>
  <li>書体変更</li>
  <li>背景色が変わる</li>
  <li>時刻に合わせて月や太陽がのぼる</li>
  <li>更新しても設定が保持される</li>
</ul>

<h2 id="section-2">利用シーン</h2>

<h3 id="section-3">ネットサーフィンの合間に</h3>
<ol>
  <li>ブラウザのスタートページに設定</li>
  <li>新規タブを開く</li>
  <li>時刻と天気が分かる</li>
  <li>「あ、今日夕方から雨じゃん。早く帰ろう」</li>
</ol>

<p>なかなかいい感じに機能してくれています。ただ、すぐに別のページに遷移するので、アニメーションはもっと少なくていいかも。</p>

<h3 id="section-4">壁掛け時計の代わりに</h3>
<ol>
  <li>新居に合わせた時計を買おう</li>
  <li>けっこう高いから買うのやめようかな</li>
  <li>そういえば使ってないタブレットがあるじゃん</li>
  <li>このページを設定してっと</li>
  <li>壁に設置して</li>
  <li>「うん、いい感じ!」</li>
</ol>

<p>後者の場合、文字が小さめなので遠いところからだと見づらいこともありました。なのでスタートページに設定しておくのがちょうどいいかもですね。PCでの利用がメイン。</p>

<h2 id="section-5">名前の由来</h2>

<p><img src="/content/images/2016/05/floaty-color-clock/icon_128.png" alt="" /></p>

<p>“Floaty Color”、流れるような色の変化を名前にしました。</p>

<p>水墨画は命名後に採用となったのですが、いい具合に名前を補強してくれていますね。フリー素材に感謝です。</p>

<p>贅沢を言うと、峠の合間にのぼる月を表現したかった。水墨画…。誰か描いてみませんか？</p>

<h2 id="todo">TODO</h2>
<ul>
  <li>書体の追加</li>
  <li>Google カレンダーからのスケジュールの取得、表示</li>
  <li>ゴミの日 Notice</li>
  <li>多言語対応</li>
</ul>

<h2 id="section-6">デバッグユーザー、コントリビューター募集</h2>

<p>校正がザルなワタシを、しゃんとさせてくれる方が欲しいです。興味のある方はTwitterかFacebook、もしくはいきなりgithub上でプルリク送ってください。</p>

<p>いままでいくつか小粒サービスを作ってきましたが、今回は時計という、常に表示しておくものは初めてです。</p>

<p>気付かないうちに本番のデータを変更しちゃう…。なんてことが無いように気をつけねば。</p>

<p>github上でやりとりができるように公開していますので、なにかおかしいところがあったりしたらissueに登録しておいてくださいね。</p>

<p><a href="https://github.com/woopsdez/floaty-color-clock/issues/">https://github.com/woopsdez/floaty-color-clock/issues/</a></p>

				
			</div> -->
		</header>
	</article>
	
	<article class="post  featured ">
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					private-works 
				
			</h2>
			<h1><a href=" /private-works/2016/04/05/hello-jekyll/">ghostからjekyllに移行しました。</a></h1>
			<span>
				Posted on <i class="fa fa-clock-o"></i><time datetime="2016-04-05">April 5, 2016</time>.
			</span>
			<!-- <div class="excerpt">
				
					<p>ghostはシンプルで使いやすかった。でも月1000円は高い。管理の手間はあるけれど触ってて楽しいjekyllによるセルフホスティングに移行しました。</p>

<div class="container">
	<a href=""><img src="/content/images/2016/04/ghost-logos.png" alt="" /></a>
	<div class="reference">
		<strong>node.jsで動くちょう今っぽいおしゃれブログプラットホーム</strong>
		<p></p>
	</div>
</div>

<p>自分でホスティングするのが嫌。</p>

<p>今っぽいシンプルなブログプラットホームがいい。</p>

<p>そういう理由でghost(pro)を利用していました。しかし、<strong>月1000円前後でブログ1個。無料の場合はブログすら持てない。</strong>というのは、ちょっとワタシには高すぎたかな。</p>

<h2 id="section">ブログ難民の流れ</h2>

<ul>
  <li>2005年〜 Movable Type</li>
  <li>2007年〜 WordPress</li>
  <li>2014年〜 ghost</li>
  <li>2016年〜 jekyll</li>
</ul>

<p>シンプルでおしゃれで今っぽい技術。それでいて、ほぼ無料に近いサービスというのは無いのでしょうか。</p>

<p>いまのところはtumblrが一番良さそうですが、本腰入れて使ったことがないからなんとも言えないですね。記事のimport/exportやURLがどうなってるのかも気になるところ。</p>

<p>それでも、いろんな可能性を考えるのが面倒になって、触ってて楽しかったjekyllでの運用となりました。</p>

<h2 id="section-1">メンテナンスを考えないですむブログ環境</h2>

<p><img src="/content/images/2016/04/spanner.jpg" alt="" /></p>

<p>書くだけに集中したいと言いつつ、おしゃれっぽさや「スゴそう感」で環境選んじゃうのでいつも苦労します。ミーハーですね。</p>

<p>今回は「10年ほぼメンテナンスフリー」を目標に考えてみましたが、そうしたら国内の老舗サービスしか候補に残りませんでした。</p>

<p>個人ブログくらい無責任におもしろそうな技術使いたいのでそれは断念。</p>

<h2 id="section-2">良いお勉強になった</h2>

<p>構築にあたって、gulpとgit-hookについて勉強できました。</p>

<div class="container">
	<a href=""><img src="/content/images/2016/04/gulp_logo.jpg" alt="" /></a>
	<div class="reference">
		<strong>サイト制作中によくやるアレやコレを自動化できるヤーツ</strong>
		<p></p>
	</div>
</div>

<p>gulpではjekyllのビルド、scssのコンパイル、ブラウザの自動リロードをしてくれる便利なnpmパッケージを使ってます。github-pageならデプロイまで簡単。</p>

<p><a href="https://github.com/shakyShane/jekyll-gulp-sass-browser-sync">jekyll-gulp-sass-browser-sync
</a></p>

<p>あとは、ビルド時に画像をリサイズ、最適化できるようにしたいです。</p>

<p>画像の保存場所を記事と同じディレクトリにしたいのだけど、それはどの技術でできるのかがさっぱり検討つかないのでまた今度。</p>

<p>デプロイはgit-hookを使ってます。push時にはワークツリーのファイルを配置することができないらしく、</p>

<ol>
  <li>受けとる場所(rep/ファイルなし、情報のみ)</li>
  <li>ソースファイルを展開する場所(rep/ワークツリーあり)</li>
  <li>公開用ディレクトリ(_site以下にある静的ファイル)</li>
</ol>

<p>と3つのディレクトリが必要になっています。</p>

<p><img src="/content/images/2016/04/hook-memo.jpg" alt="" /></p>

<p>2でローカルと同じソースファイルがサーバーに配置されるので、そこから_siteだけをcpで<code class="highlighter-rouge">public_html/blog</code>にコピーしてきています。</p>

<p>hookはpost-updateを使っています。中身はこんな感じ。</p>

<pre><code class="language-code"># ソースファイル リポジトリへ移動してファイルを取得
cd /yourdomain.com/blog-source;
git --git-dir=.git pull origin master;

# 公開用ディレクトリのファイルを全消去して新にコピー
rm -rf /yourdomain.com/blog/*;
cp -r youdomain.com/blog-source/_site/* /yourdomain.com/blog/;

# htaccess.txtを正式な名前リネーム
mv /yourdomain.com/blog/htaccess.txt yourdomain.com/blog/.htaccess; 
</code></pre>

<p>最後のhtaccessは別に不要ですが、os xのfinderでリネームしようとすると「.(ドット)から始まるファイル名はシステムのみ」と怒られるのでこっちでやってます。</p>

<p>ブログのメンテを行ったあとって無闇に記事を書きたくなりますよね。</p>

<p>来年にはtumblrに移行してるかもしれませんが、ひとまずこれでよろしくお願いします。</p>

				
			</div> -->
		</header>
	</article>
	

	<div class="pagination">
	
		<a href=" /page2" class="smallbutton lightgray right"><span>Older Posts</span><i class="fa fa-chevron-right"></i></a>
	
	
</div>

</section>

	<footer class="wrapper">
	<div class="smallnav">
		
			<a href=" /about/">About Me</a> &bull;
		
			<a href=" /contact/">Contact</a> &bull;
		
			
		
			
		
			
		
			
		
	</div>
	<div>
		Copyright &copy; <a href=" /">Miki Ishijima Blog</a>. 2016 &bull; All rights reserved.
		<span class="ghost">Proudly published with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>.</span>
	</div>
</footer>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script type="text/javascript">
		var config = {
			'disqus_shortname': '',
			'google_comments': true,
			'analytics_id': 'UA-413655-12',
			'readingtime': true,
			'autoload_comments': false
		};
	</script>
	<script async type="text/javascript" src=" /assets/js/theme.min.js"></script>
	<script>
	// 記事サイドバーに目次を追加
	$('.profile').append('<ul id="headlines"></ul>');
	$('.postbody h2').each(function(){
		$('#headlines').append('<li><a href="#' + $(this).attr('id') + '">' + $(this).text() + '</a></li>')
	});
	$('#headlines a').click(function(e){
			e.preventDefault();
			var self = String($(this).attr('href'));
			console.log('element ' + self);

			var pos = $(self).offset().top;
			var offset = pos - 100;
			console.log('num ' + pos + ' / ' + offset);
			$('html, body').animate({scrollTop: offset}, 1000);
			
	});
	</script>
  </body>
</html>