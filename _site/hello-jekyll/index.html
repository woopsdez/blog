<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />

		<title>ghostからjekyllに移行しました。</title>
		<meta name="description" content="イシジマミキ ブログ" />

		<meta name="HandheldFriendly" content="True" />
		<meta name="MobileOptimized" content="320" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta property="og:title" content="ghostからjekyllに移行しました。" />
    <meta property="og:type" content="blog" />
    <meta property="og:url" content="/hello-jekyll/" />
    <meta property="og:image" content="/content/images/2016/04/Jekyll_and_Hyde.jpg" />

		<link rel="alternate" type="application/rss+xml" href="/feed.xml">
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="prefetch" href="">
		<link rel="canonical" href="/hello-jekyll/">

		<link rel="stylesheet" href="/assets/css/screen.css">
		<link href='//fonts.googleapis.com/css?family=Domine:700|Open+Sans:400,600|Source+Code+Pro:500' rel='stylesheet' type='text/css'>
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
	</head>
	<body>

	<header class="title">
	<a href=""><i class="fa fa-bookmark-o fa-lg"></i><span>Miki Ishijima Blog</span></a>
</header>

<nav class="wrapper  featured  ">
	<a href="#" onclick="return false;"><i class="fa fa-navicon fa-lg"></i></a>
	<ul>
		
			<li><a href="/about/">About Me</a></li>
		
			<li><a href="/contact/">Contact</a></li>
		
			
		
			
		
			
		
			
		
	</ul>
</nav>

	<div class="index">
	<div class="wrapper">
		<h1 class="right">ghostからjekyllに移行しました。</h1>
		<h2 class="left">Introduction</h2>
	</div>
</div>

<div class="profile  featured ">
	<img src="https://dl.dropboxusercontent.com/u/797976/profile/woopsdez-owner-sq.jpg" class="profileimage" alt="user">
	<h4>Miki Ishijima</h4>
	<ul>
		<li><a href="http://twitter.com/woopsdez" class="smallsocialbutton twitter" target="_blank"><i class="fa fa-twitter"></i></a></li>
		
		<li><a href="http://github.com/woopsdez" class="smallsocialbutton github" target="_blank"><i class="fa fa-github"></i></a></li>
		
		<li><a href="/feed.xml" class="smallsocialbutton rss" target="_blank"><i class="fa fa-rss"></i></a></li>
	</ul>
	<p>デザインワーク、ソフトウェア開発のワークフロー、デザイン自体の考え方に関する著書を持つ。2013年にザ・マーズナレッジ株式会社設立。</p>
	<hr>
</div>


<div id="cover" class="cover featured">
	<div class="background" style="background-image:url('/content/images/2016/04/Jekyll_and_Hyde.jpg');"></div>
	<header class="wrapper">
		<h2>
			
				diary 
			
		</h2>
		<h1>ghostからjekyllに移行しました。</h1>
		<span>
			Posted by <a href="http://mikiishijima.com/" target="_blank">Miki Ishijima</a>
				on <i class="fa fa-clock-o"></i> <time datetime="2016-04-05">April 5, 2016</time>.
		</span>
	</header>
	<i class="fa fa-chevron-down movedown"></i>
</div>


<section class="posts wrapper">
	<article class="post  featured ">
		
		<header>
			<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
			<h2>
				
					diary 
				
			</h2>
			<h1 id="posttitle">ghostからjekyllに移行しました。</h1>
			<span>
				Posted by <a href="" target="_blank">Miki Ishijima</a>
				on <i class="fa fa-clock-o"></i> <time datetime="2016-04-05">April 5, 2016</time>.
			</span>
		</header>

		<section class="postbody">
			<p>ghostはシンプルで使いやすかった。でも月1000円は高い。管理の手間はあるけれど触ってて楽しいjekyllによるセルフホスティングに移行しました。</p>

<div class="container">
	<img src="/content/images/2016/04/ghost-logos.png" alt="" />
	<div class="reference">
		<strong>node.jsで動くちょう今っぽいおしゃれブログプラットホーム</strong>
		<p></p>
	</div>
</div>

<p>自分でホスティングするのが嫌。</p>

<p>今っぽいシンプルなブログプラットホームがいい。</p>

<p>そういう理由でghost(pro)を利用していました。しかし、<strong>月1000円前後でブログ1個。無料の場合はブログすら持てない。</strong>というのは、ちょっとワタシには高すぎたかな。</p>

<h2 id="section">ブログ難民の流れ</h2>

<ul>
  <li>2005年〜 Movable Type</li>
  <li>2007年〜 WordPress</li>
  <li>2014年〜 ghost</li>
  <li>2016年〜 jekyll</li>
</ul>

<p>シンプルでおしゃれで今っぽい技術。それでいて、ほぼ無料に近いサービスというのは無いのでしょうか。</p>

<p>いまのところはtumblrが一番良さそうですが、本腰入れて使ったことがないからなんとも言えないですね。記事のimport/exportやURLがどうなってるのかも気になるところ。</p>

<p>それでも、いろんな可能性を考えるのが面倒になって、触ってて楽しかったjekyllでの運用となりました。</p>

<h2 id="section-1">メンテナンスを考えないですむブログ環境</h2>

<p><img src="/content/images/2016/04/spanner.jpg" alt="" /></p>

<p>書くだけに集中したいと言いつつ、おしゃれっぽさや「スゴそう感」で環境選んじゃうのでいつも苦労します。ミーハーですね。</p>

<p>今回は「10年ほぼメンテナンスフリー」を目標に考えてみましたが、そうしたら国内の老舗サービスしか候補に残りませんでした。</p>

<p>個人ブログくらい無責任におもしろそうな技術使いたいのでそれは断念。</p>

<h2 id="section-2">良いお勉強になった</h2>

<p>構築にあたって、gulpとgit-hookについて勉強できました。</p>

<div class="container">
	<img src="/content/images/2016/04/gulp_logo.jpg" alt="" />
	<div class="reference">
		<strong>サイト制作中によくやるアレやコレを自動化できるヤーツ</strong>
		<p></p>
	</div>
</div>

<p>gulpではjekyllのビルド、scssのコンパイル、ブラウザの自動リロードをしてくれる便利なnpmパッケージを使ってます。github-pageならデプロイまで簡単。</p>

<p><a href="https://github.com/shakyShane/jekyll-gulp-sass-browser-sync">jekyll-gulp-sass-browser-sync
</a></p>

<p>あとは、ビルド時に画像をリサイズ、最適化できるようにしたいです。</p>

<p>画像の保存場所を記事と同じディレクトリにしたいのだけど、それはどの技術でできるのかがさっぱり検討つかないのでまた今度。</p>

<p>デプロイはgit-hookを使ってます。push時にはワークツリーのファイルを配置することができないらしく、</p>

<ol>
  <li>受けとる場所(rep/ファイルなし、情報のみ)</li>
  <li>ソースファイルを展開する場所(rep/ワークツリーあり)</li>
  <li>公開用ディレクトリ(_site以下にある静的ファイル)</li>
</ol>

<p>と3つのディレクトリが必要になっています。</p>

<p><img src="/content/images/2016/04/hook-memo.jpg" alt="" /></p>

<p>2でローカルと同じソースファイルがサーバーに配置されるので、そこから_siteだけをcpで<code class="highlighter-rouge">public_html/blog</code>にコピーしてきています。</p>

<p>hookはpost-updateを使っています。中身はこんな感じ。</p>

<pre><code class="language-code"># ソースファイル リポジトリへ移動してファイルを取得
cd /yourdomain.com/blog-source;
git --git-dir=.git pull origin master;

# 公開用ディレクトリのファイルを全消去して新にコピー
rm -rf /yourdomain.com/blog/*;
cp -r youdomain.com/blog-source/_site/* /yourdomain.com/blog/;

# htaccess.txtを正式な名前リネーム
mv /yourdomain.com/blog/htaccess.txt yourdomain.com/blog/.htaccess; 
</code></pre>

<p>最後のhtaccessは別に不要ですが、os xのfinderでリネームしようとすると「.(ドット)から始まるファイル名はシステムのみ」と怒られるのでこっちでやってます。</p>

<p>ブログのメンテを行ったあとって無闇に記事を書きたくなりますよね。</p>

<p>来年にはtumblrに移行してるかもしれませんが、ひとまずこれでよろしくお願いします。</p>

		</section>

		<footer>
			<ul class="share left">
				<li><a href="http://twitter.com/share?text=ghostからjekyllに移行しました。" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" class="smallbutton lightgray"><i class="fa fa-twitter"></i>Twitter</a></li>
				<li><a href="https://www.facebook.com/sharer/sharer.php?u=/hello-jekyll/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" class="smallbutton lightgray"><i class="fa fa-facebook"></i>Facebook</a></li>
			</ul>
		</footer>

		<div class="postprofile">
			<img src="https://dl.dropboxusercontent.com/u/797976/profile/woopsdez-owner-sq.jpg" class="author" alt="user">
			<div class="info">
				<h4>Miki Ishijima</h4>
				<a href="http://mikiishijima.com/">http://mikiishijima.com/</a>
				<p>デザインワーク、ソフトウェア開発のワークフロー、デザイン自体の考え方に関する著書を持つ。2013年にザ・マーズナレッジ株式会社設立。</p>
				<ul class="social">
					<li><a href="http://twitter.com/woopsdez" class="twitter" target="_blank"><i class="fa fa-twitter"></i></a></li>
					
					<li><a href="http://github.com/woopsdez" class="github" target="_blank"><i class="fa fa-github-alt"></i></a></li>
					
					<li><a href="http://dribbble.com/woopsdez" class="dribbble" target="_blank"><i class="fa fa-dribbble"></i></a></li>
					
					
					
					
					<li><a href="/feed.xml" class="rss" target="_blank"><i class="fa fa-rss"></i></a></li>
				</ul>
			</div>
		</div>

		

	</article>

</section>


	<footer class="wrapper">
	<div class="smallnav">
		
			<a href="/about/">About Me</a> &bull;
		
			<a href="/contact/">Contact</a> &bull;
		
			
		
			
		
			
		
			
		
	</div>
	<div>
		Copyright &copy; <a href="/">Miki Ishijima Blog</a>. 2016 &bull; All rights reserved.
		<span class="ghost">Proudly published with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>.</span>
	</div>
</footer>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script type="text/javascript">
		var config = {
			'disqus_shortname': '',
			'google_comments': true,
			'analytics_id': 'UA-413655-12',
			'readingtime': true,
			'autoload_comments': false
		};
	</script>
	<script async type="text/javascript" src="/assets/js/theme.min.js"></script>

  </body>
</html>